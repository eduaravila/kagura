---
import PostPreview from "@/components/blog/PostPreview";
import SocialList from "@/components/SocialList";
import PageLayout from "@/layouts/Base";
import { sortMDByDate } from "@/utils";
import { getCollection } from "astro:content";

const MAX_POSTS = 10;
const allPosts = await getCollection("post");
const allPostsByDate = sortMDByDate(allPosts).slice(0, MAX_POSTS);
---

<PageLayout meta={{ title: "Home" }}>
	<section>
		<h1 class="title mb-6">Hello World!</h1>
		<p class="mb-4">
			Welcome to Eduardo Avila's personal blog, where technology and life intersect! Follow along as he delves into the exciting world of web and mobile development, with the occasional foray into other captivating subjects. Don't be shy, hit him up on Twitter & Github and join the conversation!
		</p>
		<SocialList />
	</section>
	<section aria-label="Blog post list" class="mt-16">
		<h2 class="title mb-4 text-xl">Posts</h2>
		<ul class="space-y-4 sm:space-y-2">
			{
				allPostsByDate.map((p) => (
					<li class="flex flex-col gap-x-2 sm:flex-row">
						<PostPreview post={p} />
					</li>
				))
			}
		</ul>
	</section>

</PageLayout>
